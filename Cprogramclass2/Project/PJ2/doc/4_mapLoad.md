# 地图检测功能自动化菜单 Version 2.3

## 1. 构思

1. 主要菜单更改
    地图统一放在一个文件，通过检测地图数量并读入地图名称，重构菜单  
    取消默认地图与自定义地图的区分，每个地图都支持修改等操作  
    那么地图选择菜单就合并了  
    `地图选择`  
    `新增地图`  
    `上级菜单`  

2. 背后功能支持更改
    这时候地图状态检测也可以统一起来  
    统一使用自定义地图的检测方式  

3. 新增功能大致包括
   1. 新建地图文件(自定义命名)

## 2. 细致要求

1. 地图选择菜单
   1. 选项包括:
      1. 各个地图选项
        形式为`<地图名称>`
      2. 新建地图选项
      3. 返回上级菜单选项
   2. 功能要求：
      1. 那么功能就包括实时检测地图数量和名称以存储，并化为选项和对应入口  
      2. 新建地图选项可以新建一个地图，自定义命名，然后调用自定义地图的方式即可  
      3. 限制最大地图数量为10  
2. 自定义地图操作菜单
   1. 增加一个给地图重命名的方式，其他不变
3. 地图状态检测函数
    由于所有地图作为对象相当于都成了原来的自定义地图，因此只需要一种统一的地图检测方式即可，按照原有的自定义地图状态检测方式即可，关键是入口需要重新指定

## 3. 实现构思

1. `地图选择菜单`更改
   1. 建立一个`地图名称存储数组`,以及一个变量`mapnum`用于维护地图数量信息
      1. 建立一个`地图名称存储函数`用来维护这两个信息
      2. 设想`地图名称存储数组`在全局存储,也可以给其他程序公用
      3. `mapNum`在菜单调用时实时获取
   2. 根据`mapnum`确定输出选项的数量(总共有`mapnum`+2(`新建地图`和`返回上级菜单`个选项))  
      1. 选项打印需要新的菜单专属逻辑  
      2. 选项选中则仍然可以沿用统一逻辑  
   3. 地图选项采用`<mapPath>`的方式打出  
      1. 选中之后直接接入`地图统一操作菜单`(设想`地图统一操作菜单`由`mapOperationMenu`修改而来)  
   4. `新建地图`选项
      1. 如果`mapNum`小于最大数量则可以新建
      2. 通过一个新函数`建立地图`增加一个新的`.map`文件,并读入自定义明明(如果可以还可以加个防重名机制)  
      3. 重新维护菜单信息  
      4. 返回地图选择菜单  

2. 其他更改  
    由于`地图选择菜单`的更改,其他很多逻辑也需要相应大幅度调整  
   1. 合并`默认地图菜单`和`自定义地图菜单`
   2. 尽量维持`mapPath`调用逻辑不变的前提下,使其实际包含选项数量可以宽松化
   3. 由于`mapPath`可以变化,那么我还要对应变化`savePath`
   4. 给`地图统一操作菜单`增加重命名功能(如果还有时间的话加),增加删除功能(和重置不一样,重置文件还在,删除文件没了)
